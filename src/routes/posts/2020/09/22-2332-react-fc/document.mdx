## ä½ å¯ä»¥ä»æœ¬æ–‡äº†è§£åˆ°

-   React.FC æ˜¯ä»€ä¹ˆï¼Ÿå’Œnormal functions type çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
-   å¦‚ä½•å­¦ä¹ åœ¨Reactä¸­ä½¿ç”¨TypeScriptï¼Ÿ
## React.FC vs normal functions type
### 1 React.FC å§‹ç»ˆéšå«å¯ä»¥ä¼ å…¥ children

React.FCç­‰ä»·äºReact.FunctionComponentã€‚

ä»è¿™ä¸€ç‚¹æ—¥å¸¸ä¾¿åˆ©æ€§ä¸Šçœ‹ï¼ŒReact.FCä¼˜äºnormal functions typeã€‚

ä»¥ä¸‹FCä»£ç ï¼Œä¸€åˆ‡æ­£å¸¸ï¼Œå…è®¸ä¼ å…¥children
```tsx
import React, { Component, FC } from "react";// highlight-line
import { render } from "react-dom";

type GreetingProps = {
  name: string;
};
// highlight-start
export const Greeting:FC<GreetingProps> = ({ name }) => {
  // name is string!
  return <h1>Hello {name}</h1>
};
// highlight-end
// use it in the app
const App = () => <React.Fragment>
  <Greeting name="Stefan">
    <span>{"I can set this element but it doesn't do anything"}</span>
  </Greeting>
</React.Fragment>
render(<App />, document.getElementById("root"));
```

ä½†ä¸‹é¢è¿™æ ·å†™å°±è¦å‡ºç°é”™è¯¯æç¤ºäº†ã€‚

`Type '{ children: Element; name: string; }' is not assignable to type 'IntrinsicAttributes & GreetingProps'.
  Property 'children' does not exist on type 'IntrinsicAttributes & GreetingProps'.(2322)`

```tsx
import React, { Component, FC } from "react";
import { render } from "react-dom";

type GreetingProps = {
  name: string;
};

function Greeting({ name }: GreetingProps) {
  return <h1>Hello {name}</h1>
}

// use it in the app
const App = () => <React.Fragment>
  <Greeting name="Stefan">
  {/* throws errors at me! ğŸ’¥*/}
    <span>{"I can set this element but it doesn't do anything"}</span>
  </Greeting>
</React.Fragment>
render(<App />, document.getElementById("root"));
```

æˆ‘ä»¬å¾—åšä¸€äº›æ‰©å±•ï¼Œå¦‚ä¸‹WithChildrenéƒ¨åˆ†ï¼Œé€šè¿‡è¿ç®—ï¼Œå¹¶ä¸Šäº†childrenå±æ€§ã€‚

```tsx
import React, { Component, FC } from "react";
import { render } from "react-dom";

type WithChildren<T = {}> = 
  T & { children?: React.ReactNode };

type GreetingProps = WithChildren<{
  name: string;
}>;

function Greeting({ name }: GreetingProps) {
  return <h1>Hello {name}</h1>
}

// use it in the app
const App = () => <React.Fragment>
  <Greeting name="Stefan">
    <span>{"I can set this element but it doesn't do anything"}</span>
  </Greeting>
</React.Fragment>
render(<App />, document.getElementById("root"));
```

### 2 React.FC ä¸æ”¯æŒ defaultProps

ä½†æ˜¯[è¿™è¾¹](https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/default_props)æåˆ°**defaultPropsä¸å»ºè®®ä½¿ç”¨ï¼Œå³å°†åºŸå¼ƒ**ã€‚
ä»è¿™ä¸€ç‚¹é•¿æœŸæ¥çœ‹ï¼ŒReact.FCè¿˜æ˜¯ä¼˜äºnormal functions typeã€‚

çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼Œts ä¼šæç¤º

`Property 'name' is missing in type '{}' but required in type 'GreetingProps'.(2741)`

```tsx
import React, {Component, FC} from 'react';
import {render} from 'react-dom';

type GreetingProps = {
    name: string;
};

export const Greeting: FC<GreetingProps> = ({name}) => {
    // name is string!
    return <h1>Hello {name}</h1>;
};

Greeting.defaultProps = {
    name: 'World'
};

const App = () => (
    <React.Fragment>
        {/* boom ğŸ’¥*/}
        <Greeting />
    </React.Fragment>
);

render(<App />, document.getElementById('root'));
```

è€Œæ”¹æˆæ­£å¸¸çš„typeå£°æ˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œå°±passäº†

```tsx
import React, { Component, FC } from "react";
import { render } from "react-dom";

type GreetingProps = {
  name: string;
};

export const Greeting = ({ name }:GreetingProps) => {
  // name is string!
  return <h1>Hello {name}</h1>;
};

Greeting.defaultProps = {
  name: "World"
};

const App = () => (
  <React.Fragment>
  {/*âœ…*/}
    <Greeting />
  </React.Fragment>
);

render(<App />, document.getElementById("root"));
```
## å¦‚ä½•å­¦ä¹ åœ¨Reactä¸­ä½¿ç”¨TypeScriptï¼Ÿ

[typescript-cheatsheets/react](https://github.com/typescript-cheatsheets/react)æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹å’Œæ‰‹å†ŒæŸ¥è¯¢åœ°æ–¹ã€‚

æœ¬æ–‡åªæ˜¯æŠ›ç –å¼•ç‰ï¼Œä¹‹åæœ‰ä»€ä¹ˆæœ‰æ„æ€çš„ç‚¹ï¼Œè¿˜ä¼šcase by caseçš„è®¨è®ºå­¦ä¹ ã€‚

## References

[TypeScript + React: Why I don't use React.FC](https://fettblog.eu/typescript-react-why-i-dont-use-react-fc/)

[typescript-cheatsheets/react](https://github.com/typescript-cheatsheets/react)