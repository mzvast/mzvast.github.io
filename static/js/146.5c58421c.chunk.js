(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{316:function(n,s,a){"use strict";a.r(s),a.d(s,"readingTime",function(){return e}),a.d(s,"default",function(){return k}),a.d(s,"tableOfContents",function(){return r}),a.d(s,"frontMatter",function(){return d});var t=a(36),p=(a(0),a(35)),e={text:"3 min read",minutes:2.71,time:162600,words:542},o=function(n){return function(s){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(p.mdx)("div",s)}},c=o("Tweet"),l=o("CodePen"),u={},i="wrapper";function k(n){var s=n.components,a=Object(t.a)(n,["components"]);return Object(p.mdx)(i,Object.assign({},u,a,{components:s,mdxType:"MDXLayout"}),Object(p.mdx)("h2",{id:"\u4f60\u53ef\u4ee5\u4ece\u672c\u6587\u4e86\u89e3\u5230"},"\u4f60\u53ef\u4ee5\u4ece\u672c\u6587\u4e86\u89e3\u5230"),Object(p.mdx)("p",null,"\u5982\u4f55\u8ba9 mdx \u652f\u6301\u5404\u79cd\u5d4c\u5165\u5f0f\u5185\u5bb9\uff0c\u4f7f\u5f97\u53ef\u5c55\u793a\u7684\u5185\u5bb9\u5927\u5927\u6269\u5c55\u3002\u5305\u62ec\u4e86\u51e0\u5341\u79cd\u5185\u5bb9\u3002"),Object(p.mdx)("h2",{id:"\u6700\u7ec8\u6548\u679c-demo"},"\u6700\u7ec8\u6548\u679c demo"),Object(p.mdx)(c,{tweetLink:"studio_hungry/status/1278829444124282882?s=20",theme:"dark",mdxType:"Tweet"}),Object(p.mdx)(l,{codePenId:"PNaGbb",mdxType:"CodePen"}),Object(p.mdx)("h2",{id:"\u5982\u4f55\u5b89\u88c5\u548c\u4f7f\u7528"},"\u5982\u4f55\u5b89\u88c5\u548c\u4f7f\u7528"),Object(p.mdx)("p",null,"1\u3001\u5b89\u88c5\u4f9d\u8d56"),Object(p.mdx)("p",null,Object(p.mdx)("a",Object.assign({parentName:"p"},{href:"https://www.mdx-embed.com/?path=/docs/introduction--page"}),"mdx-embed")),Object(p.mdx)("pre",null,Object(p.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token function">yarn</span> <span class="token function">add</span> mdx-embed\n'}}))),Object(p.mdx)("p",null,"2\u3001\u5c06\u9875\u9762\u7528",Object(p.mdx)("inlineCode",{parentName:"p"},"MDXEmbedProvider"),"\u5305\u88f9\u8d77\u6765"),Object(p.mdx)("pre",null,Object(p.mdx)("code",Object.assign({parentName:"pre"},{className:"language-ts","data-language":"ts","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token keyword">import</span> <span class="token punctuation">{</span>MDXEmbedProvider<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'mdx-embed\'</span><span class="token punctuation">;</span>\n\n<span class="token comment">// ...</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>children<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n        <span class="token operator">&lt;</span>MDXProvider\n            components<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n                a<span class="token punctuation">:</span> Link<span class="token punctuation">,</span>\n                <span class="token function-variable function">wrapper</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>children<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n<span class="highlighted-line">                    <span class="token operator">&lt;</span>MDXEmbedProvider<span class="token operator">></span></span>                        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>content<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n<span class="highlighted-line">                    <span class="token operator">&lt;</span><span class="token operator">/</span>MDXEmbedProvider<span class="token operator">></span></span>                <span class="token punctuation">)</span>\n            <span class="token punctuation">}</span><span class="token punctuation">}</span>\n        <span class="token operator">></span>\n            <span class="token operator">&lt;</span>MDXComponent <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>MDXProvider<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n'}}))),Object(p.mdx)("h2",{id:"\u539f\u7406\u5c0f\u63a2"},"\u539f\u7406\u5c0f\u63a2"),Object(p.mdx)("p",null,"\u9996\u5148\u770b",Object(p.mdx)("inlineCode",{parentName:"p"},"MDXEmbedProvider"),"\u7684\u4ee3\u7801\uff0c\u5982\u4e0b\uff0c\u57fa\u672c\u4e0a\u5c31\u662f\u5728\u539f\u6765\u7684",Object(p.mdx)("inlineCode",{parentName:"p"},"MDXProvider"),"\u4e0a\u53c8\u589e\u52a0\u4e00\u5c42\u5c01\u88c5\uff0c\u4f7f\u5f97\u652f\u6301Embed\u7ec4\u4ef6"),Object(p.mdx)("pre",null,Object(p.mdx)("code",Object.assign({parentName:"pre"},{className:"language-tsx","data-language":"tsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> FunctionComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> MDXProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@mdx-js/react\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token punctuation">{</span> components <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'./components\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">IMdxProviderProps</span> <span class="token punctuation">{</span>\n  <span class="token comment">/** React Children */</span>\n  children<span class="token punctuation">:</span> React<span class="token punctuation">.</span>ReactNode<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="highlighted-line"><span class="token keyword">export</span> <span class="token keyword">const</span> MDXEmbedProvider<span class="token punctuation">:</span> FunctionComponent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IMdxProviderProps</span></span><span class="token punctuation">></span></span><span class="token plain-text"> = ({ children }) => (</span></span><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MDXProvider</span></span> <span class="token attr-name">components</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>components<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MDXProvider</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>\n<span class="token plain-text">);</span>\n<span class="token plain-text"></span>'}}))),Object(p.mdx)("p",null,"\u90a3\u6211\u4eec\u53bb\u770b\u4e00\u4e0b",Object(p.mdx)("inlineCode",{parentName:"p"},"@mdx-js/react"),"\u4e2d\u7684",Object(p.mdx)("inlineCode",{parentName:"p"},"MDXProvider"),"\u505a\u4e86\u4ec0\u4e48"),Object(p.mdx)("pre",null,Object(p.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token keyword">export</span> <span class="token keyword">const</span> MDXContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> emptyObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useMDXComponents</span><span class="token punctuation">(</span><span class="token parameter">components</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> contextComponents <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useContext</span><span class="token punctuation">(</span>MDXContext<span class="token punctuation">)</span>\n  <span class="token comment">// Memoize to avoid unnecessary top-level context changes</span>\n  <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token comment">// Custom merge via a function prop</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> components <span class="token operator">===</span> <span class="token string">\'function\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token function">components</span><span class="token punctuation">(</span>contextComponents<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>contextComponents<span class="token punctuation">,</span> <span class="token operator">...</span>components<span class="token punctuation">}</span> <span class="token comment">// \u5408\u5e76 components\u548ccontextComponents</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>contextComponents<span class="token punctuation">,</span> components<span class="token punctuation">]</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">MDXProvider</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>components<span class="token punctuation">,</span> children<span class="token punctuation">,</span> disableParentContext<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> allComponents <span class="token operator">=</span> <span class="token function">useMDXComponents</span><span class="token punctuation">(</span>components<span class="token punctuation">)</span> \n\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>disableParentContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    allComponents <span class="token operator">=</span> components <span class="token operator">||</span> emptyObject\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>\n    MDXContext<span class="token punctuation">.</span>Provider<span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>value<span class="token punctuation">:</span> allComponents<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// \u5c06\u8fd9\u4e9bcomponents\u63d0\u4f9b\u7ed9children</span>\n    children\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n'}}))),Object(p.mdx)("p",null,"\u4e0b\u9762\u770b\u4e00\u4e2atest case\uff0c\u8fd9\u8bf4\u660e\u5185\u5c42\u5b9a\u4e49\u7684\u7ec4\u4ef6\u4f18\u5148\u5148\u8fdb\u884c\u8f6c\u6362\uff0c\u672a\u547d\u4e2d\u7684\u624d\u4f1a\u53c8\u4e0a\u5c42\u7ec4\u4ef6\u6765\u5904\u7406\u3002"),Object(p.mdx)("pre",null,Object(p.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">\'should support components as a function\'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token keyword">default</span><span class="token punctuation">:</span> Content<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token string">\'# hi\\n## hello\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    <span class="token operator">...</span>runtime<span class="token punctuation">,</span>\n    useMDXComponents\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n  assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>\n    <span class="token function">renderToString</span><span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>MDXProvider\n        components<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          <span class="token function-variable function">h1</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">:</span> <span class="token string">\'tomato\'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">props</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span>\n          <span class="token function-variable function">h2</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">:</span> <span class="token string">\'rebeccapurple\'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">props</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span>\n      <span class="token operator">></span>\n        <span class="token operator">&lt;</span>MDXProvider\n          components<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>\n            <span class="token function-variable function">h2</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">:</span> <span class="token string">\'papayawhip\'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">props</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n        <span class="token operator">></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Content</span></span> <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MDXProvider</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MDXProvider</span></span><span class="token punctuation">></span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token string">\'&lt;h1>hi&lt;/h1>\\n&lt;h2 style="color:papayawhip">hello&lt;/h2>\'</span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n'}}))),Object(p.mdx)("p",null,"\u4e0a\u9762\u4ee3\u7801\u7684\u8fd0\u884c\u987a\u5e8f\u662f"),Object(p.mdx)("p",null,"1\u3001",Object(p.mdx)("inlineCode",{parentName:"p"},"'# hi\\n## hello'"),"\u5148\u88ab\u5185\u5c42\u7ec4\u4ef6\u8f6c\u6362\u6210",Object(p.mdx)("inlineCode",{parentName:"p"},"'# hi\\n<h2 style=\"color:papayawhip\">hello</h2>'")),Object(p.mdx)("p",null,"2\u3001",Object(p.mdx)("inlineCode",{parentName:"p"},"'# hi\\n<h2 style=\"color:papayawhip\">hello</h2>'"),"\u88ab\u5916\u5c42\u7ec4\u4ef6\u8f6c\u6362\u6210",Object(p.mdx)("inlineCode",{parentName:"p"},"'<h1>hi</h1>\\n<h2 style=\"color:papayawhip\">hello</h2>'")),Object(p.mdx)("p",null,"\u90a3\u6709\u4eba\u5c31\u8981\u95ee\u4e86\uff0c\u4e3a\u4ec0\u4e48evaluate\u4f1a\u6267\u884c\u8fd9\u4e2a\u8f6c\u6362\uff0c\u4ed6\u600e\u4e48\u77e5\u9053",Object(p.mdx)("inlineCode",{parentName:"p"},"# hi"),"\u8981\u547d\u4e2d",Object(p.mdx)("inlineCode",{parentName:"p"},"h1"),"\u7ec4\u4ef6\u5462\uff1f"),Object(p.mdx)("p",null,"\u90a3\u4e48\u6211\u4eec\u5c31\u9700\u8981\u6765\u770b",Object(p.mdx)("inlineCode",{parentName:"p"},"evaluate"),"\u8fd9\u4e2a\u51fd\u6570\uff0c\u4ed6\u8c03\u7528\u4e86compile\u8fdb\u884c\u7f16\u8bd1\uff0c"),Object(p.mdx)("pre",null,Object(p.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token comment">// packages/mdx/lib/evaluate\\.js</span>\n<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token parameter">vfileCompatible<span class="token punctuation">,</span> evaluateOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span>compiletime<span class="token punctuation">,</span> runtime<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">resolveEvaluateOptions</span><span class="token punctuation">(</span>evaluateOptions<span class="token punctuation">)</span> <span class="token comment">// \u5206\u79bb\u7f16\u8bd1\u65f6\u53c2\u6570\u548c\u8fd0\u884c\u65f6\u53c2\u6570</span>\n  <span class="token comment">// V8 on Erbium.</span>\n  <span class="token comment">/* c8 ignore next 2 */</span>\n  <span class="token keyword">return</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">compile</span><span class="token punctuation">(</span>vfileCompatible<span class="token punctuation">,</span> compiletime<span class="token punctuation">)</span><span class="token punctuation">,</span> runtime<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n'}}))),Object(p.mdx)("pre",null,Object(p.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token comment">// packages/mdx/lib/compile\\.js</span>\n<span class="token comment">/**\n * Compile MDX to JS.\n *\n * @param {VFileCompatible} vfileCompatible\n *   MDX document to parse (`string`, `Buffer`, `vfile`, anything that can be\n *   given to `vfile`).\n * @param {CompileOptions} [compileOptions]\n * @return {Promise&lt;VFile>}\n */</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">compile</span><span class="token punctuation">(</span><span class="token parameter">vfileCompatible<span class="token punctuation">,</span> compileOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span>file<span class="token punctuation">,</span> options<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">resolveFileAndOptions</span><span class="token punctuation">(</span>vfileCompatible<span class="token punctuation">,</span> compileOptions<span class="token punctuation">)</span> <span class="token comment">// \u751f\u6210\u4e00\u4e2aVFile\u5bf9\u8c61</span>\n  <span class="token keyword">return</span> <span class="token function">createProcessor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n'}}))),Object(p.mdx)("p",null,"VFile\u662f",Object(p.mdx)("a",Object.assign({parentName:"p"},{href:"https://github.com/unifiedjs/unified"}),"unified"),"\u4e2d\u7528\u5230\u7684\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u5728\u5185\u5b58\u4e2d\u8fdb\u884c\u6587\u4ef6\u64cd\u4f5c\u3002"),Object(p.mdx)("p",null,"\u8c03\u7528\u4e86",Object(p.mdx)("inlineCode",{parentName:"p"},"createProcessor"),"\u65b9\u6cd5\uff0c\u4ee3\u7801\u5982\u4e0b\u3002\u5176\u4e3b\u8981\u5de5\u4f5c\u5c31\u662f\u5c06mdx\u89e3\u6790\u6210AST\uff0c\u6700\u7ec8\u7ecf\u8fc7\u4e00\u7cfb\u5217\u63d2\u4ef6\u8fd0\u7b97\uff0c\u8f6c\u6362\u6210JSON\u5bf9\u8c61"),Object(p.mdx)("p",null,"\u5176\u4e2d\u7ecf\u8fc7\u4e863\u4e2aAST\u8f6c\u6362\uff0c\u5206\u522b\u662f",Object(p.mdx)("inlineCode",{parentName:"p"},"mdast,hast,esast"),"\u3002"),Object(p.mdx)("p",null,Object(p.mdx)("inlineCode",{parentName:"p"},"MDAST\uff08Markdown Abstract Syntax Tree\uff09"),"\u662f\u4e00\u79cd\u7528\u4e8e\u8868\u793a Markdown \u6587\u672c\u7684\u62bd\u8c61\u8bed\u6cd5\u6811\uff08AST\uff09\u683c\u5f0f\u3002\u5b83\u662f\u4f7f\u7528 Remark\uff08\u4e00\u4e2a\u7528\u4e8e\u5904\u7406 Markdown \u6587\u672c\u7684 JavaScript \u5e93\uff09\u89e3\u6790 Markdown \u6587\u672c\u540e\u5f97\u5230\u7684\u7ed3\u679c\u3002"),Object(p.mdx)("p",null,Object(p.mdx)("inlineCode",{parentName:"p"},"HAST\uff08HTML Abstract Syntax Tree\uff09"),"\u662f\u4e00\u79cd\u7528\u4e8e\u8868\u793a HTML \u6587\u672c\u7684\u62bd\u8c61\u8bed\u6cd5\u6811\uff08AST\uff09\u683c\u5f0f\u3002\u5b83\u662f\u4f7f\u7528 Rehype\uff08\u4e00\u4e2a\u7528\u4e8e\u5904\u7406 HTML \u6587\u672c\u7684 JavaScript \u5e93\uff09\u89e3\u6790 HTML \u6587\u672c\u540e\u5f97\u5230\u7684\u7ed3\u679c\u3002"),Object(p.mdx)("p",null,Object(p.mdx)("inlineCode",{parentName:"p"},"ESAST\uff08JavaScript Abstract Syntax Tree\uff09"),"\u662f\u4e00\u79cd\u7528\u4e8e\u8868\u793a JavaScript \u4ee3\u7801\u7684\u62bd\u8c61\u8bed\u6cd5\u6811\uff08AST\uff09\u683c\u5f0f\u3002\u5b83\u662f\u4f7f\u7528 Recast\uff08\u4e00\u4e2a\u7528\u4e8e\u5904\u7406 JavaScript \u4ee3\u7801\u7684 JavaScript \u5e93\uff09\u89e3\u6790 JavaScript \u4ee3\u7801\u540e\u5f97\u5230\u7684\u7ed3\u679c\u3002"),Object(p.mdx)("p",null,"\u56e0\u6b64\uff0cMDAST \u7528\u4e8e\u8868\u793a Markdown \u6587\u672c\uff0cHAST \u7528\u4e8e\u8868\u793a HTML \u6587\u672c\uff0cESAST \u7528\u4e8e\u8868\u793a JavaScript \u4ee3\u7801\u3002"),Object(p.mdx)("p",null,"\u7ecf\u8fc7",Object(p.mdx)("inlineCode",{parentName:"p"},"mdx-loader"),"\u7684\u5904\u7406\u540e\uff0c\u4f1a\u8f93\u51faJS\u6587\u4ef6"),Object(p.mdx)("pre",null,Object(p.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token keyword">const</span> mdx <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'@mdx-js/mdx\'</span><span class="token punctuation">)</span>\n<span class="token comment">// ...</span>\nmodule<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> result\n  <span class="token comment">// ...</span>\n\n  <span class="token keyword">try</span> <span class="token punctuation">{</span>\n    result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">mdx</span><span class="token punctuation">(</span>mdxContent<span class="token punctuation">,</span> options<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">// ...</span>\n  <span class="token keyword">let</span> code <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\nimport React from \'react\'\nimport { mdx } from \'@mdx-js/react\' // \u6ce8\u5165react  binding\nexport const readingTime = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>estimatedReadingTime<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n</span><span class="token template-punctuation string">`</span></span>\n\n  <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> code<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n'}}))),Object(p.mdx)("p",null,"\u90a3\u4e48",Object(p.mdx)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/mdx-js/mdx@v1.6.22/-/blob/packages/react/src/create-element.js"}),"mdx binding"),"\u662f\u4e2a\u5565\u5462\uff1f\u5982\u4e0b"),Object(p.mdx)("p",null,"\u5728",Object(p.mdx)("inlineCode",{parentName:"p"},"compile"),"\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u5728\u5904\u7406\u8fd9\u4e2amdx\u6587\u4ef6\u7684\u65f6\u5019\u4f1a\u7ed9\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u589e\u52a0\u4e00\u4e2a\u6ce8\u91ca",Object(p.mdx)("inlineCode",{parentName:"p"},"/* @jsx mdx */"),"\uff0c\u8fd9\u5c31\u4f7f\u5f97\u66ff\u6362\u4e86React.createElement\u65b9\u6cd5\uff0c\u4e5f\u5c31\u8d77\u5230\u4e86\u4ececomponents\u4e2d\u6620\u5c04\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u7684\u80fd\u529b\u3002"),Object(p.mdx)("pre",null,Object(p.mdx)("code",Object.assign({parentName:"pre"},{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token comment">// node_modules/@mdx-js/mdx/index.js</span>\n<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">compile</span><span class="token punctuation">(</span><span class="token parameter">mdx<span class="token punctuation">,</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> opts <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token constant">DEFAULT_OPTIONS</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>\n  <span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token function">createCompiler</span><span class="token punctuation">(</span>opts<span class="token punctuation">)</span>\n\n  <span class="token keyword">const</span> fileOpts <span class="token operator">=</span> <span class="token punctuation">{</span>contents<span class="token punctuation">:</span> mdx<span class="token punctuation">}</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>opts<span class="token punctuation">.</span>filepath<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    fileOpts<span class="token punctuation">.</span>path <span class="token operator">=</span> opts<span class="token punctuation">.</span>filepath\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">const</span> <span class="token punctuation">{</span>contents<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> compiler<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>fileOpts<span class="token punctuation">)</span>\n\n  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/* @jsx mdx */\n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>contents<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>\n<span class="token punctuation">}</span>\n'}}))),Object(p.mdx)("p",null,"\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f"),Object(p.mdx)("p",null,"1\u3001\u7f16\u8bd1\u65f6\uff0cmd\u901a\u8fc7mdx-loader\u8f6c\u6362\u6210js\u6587\u4ef6"),Object(p.mdx)("p",null,"2\u3001\u8fd0\u884c\u65f6\uff0ccreateElement\u88ab\u52ab\u6301\uff0c\u6ce8\u5165\u4e86\u81ea\u5b9a\u4e49\u7ec4\u4ef6"))}k.isMDXComponent=!0;var r=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[{id:"\u4f60\u53ef\u4ee5\u4ece\u672c\u6587\u4e86\u89e3\u5230",level:2,title:"\u4f60\u53ef\u4ee5\u4ece\u672c\u6587\u4e86\u89e3\u5230",children:[]},{id:"\u6700\u7ec8\u6548\u679c-demo",level:2,title:"\u6700\u7ec8\u6548\u679c demo",children:[]},{id:"\u5982\u4f55\u5b89\u88c5\u548c\u4f7f\u7528",level:2,title:"\u5982\u4f55\u5b89\u88c5\u548c\u4f7f\u7528",children:[]},{id:"\u539f\u7406\u5c0f\u63a2",level:2,title:"\u539f\u7406\u5c0f\u63a2",children:[]}]},d={}}}]);
//# sourceMappingURL=146.5c58421c.chunk.js.map