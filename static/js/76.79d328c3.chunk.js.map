{"version":3,"sources":["routes/posts/2015/07-04-centos6-vps-wordpress/document.mdx"],"names":["readingTime","text","minutes","time","words","layoutProps","MDXLayout","MDXContent","_ref","components","props","Object","_home_runner_work_mzvast_github_io_mzvast_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__","assign","mdxType","parentName","id","href","title","isMDXComponent","tableOfContents","arguments","length","undefined","level","children","frontMatter"],"mappings":"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","file":"static/js/76.79d328c3.chunk.js","sourcesContent":["\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"1 min read\",\"minutes\":0.74,\"time\":44400,\"words\":148}\n/* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`搭建环境：搬瓦工512M，5G。`}</p>\n    <p>{`主要步骤：`}</p>\n    <ol>\n      <li parentName=\"ol\">{`安装LNMP`}</li>\n      <li parentName=\"ol\">{`创建数据库`}</li>\n      <li parentName=\"ol\">{`添加虚拟主机`}</li>\n      <li parentName=\"ol\">{`安装WordPress`}</li>\n      <li parentName=\"ol\">{`配置和权限`}</li>\n    </ol>\n    <p>{`以下是具体过程`}</p>\n    <h2 {...{\n      \"id\": \"安装lnmp和ftp\"\n    }}>{`安装LNMP和FTP`}</h2>\n    <p>{`LNMP（linux+Nginx+MySQL+PHP），一键安装包`}<a parentName=\"p\" {...{\n        \"href\": \"http://lnmp.org/install.html\",\n        \"title\": \"LNMP一键安装\"\n      }}>{`http://lnmp.org/install.html`}</a>{`按照该教程指导进行安装。`}</p>\n    <p>{`首先，推荐使用Xshell作为终端连接VPS（考虑到putty每次登陆都要输入密码，非常的麻烦）`}</p>\n    <p>{`登陆后运行：`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`screen -S lnmp #创建一个不会被打断的“后台”\n`}</code></pre>\n    <p>{`screen常用命令有：`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`screen -S name  #创建名为name的屏幕\n(ctrl+a)+d  #暂时中断会话\nscreen -ls  #显示会话和ID\nscreen -r num   #继续ID为num的会话\n`}</code></pre>\n    <p>{`安装LNMP执行：`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`wget -c http://soft.vpser.net/lnmp/lnmp1.2-full.tar.gz\ntar zxf lnmp1.2-full.tar.gz\ncd lnmp1.2-full\n./install.sh lnmp\n`}</code></pre>\n    <p>{`期间需要设置：`}</p>\n    <ul>\n      <li parentName=\"ul\">{`MySQL密码（回车默认为root）`}</li>\n      <li parentName=\"ul\">{`是否启用MySQL InnoDB（n回车）`}</li>\n      <li parentName=\"ul\">{`MySQL版本号（默认回车）`}</li>\n      <li parentName=\"ul\">{`PHP版本号（默认回车）`}</li>\n      <li parentName=\"ul\">{`内存优化其（默认回车不安装）`}</li>\n      <li parentName=\"ul\">{`提示\"Press any key to install…or Press Ctrl+c to cancel\"后，按（回车开始安装）。`}</li>\n    </ul>\n    <p>{`等待大约30分钟……安装成功`}</p>\n    <p>{`然后执行安装FTP：`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`./pureftpd.sh \n`}</code></pre>\n    <h2 {...{\n      \"id\": \"创建数据库\"\n    }}>{`创建数据库`}</h2>\n    <p>{`浏览器访问`}<inlineCode parentName=\"p\">{`[你的ip]/phpmyadmin`}</inlineCode>{`进入数据库管理后台，新建数据库wordpress`}</p>\n    <h2 {...{\n      \"id\": \"添加虚拟主机\"\n    }}>{`添加虚拟主机`}</h2>\n    <p>{`运行：`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`lnmp vhost add\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`域名设置：这里暂时用`}{`[你的ip]`}{`，`}</li>\n      <li parentName=\"ul\">{`是否还要添加域名：no`}</li>\n      <li parentName=\"ul\">{`设置网站目录:回车`}</li>\n      <li parentName=\"ul\">{`是否开启伪静态：y回车`}</li>\n      <li parentName=\"ul\">{`伪静态类型：wordpress回车`}</li>\n      <li parentName=\"ul\">{`是否开启log功能：y回车`}</li>\n      <li parentName=\"ul\">{`回车开始安装`}</li>\n    </ul>\n    <p>{`因为添加vhost导致“路由”的改变，此时已经不能通过`}<inlineCode parentName=\"p\">{`[你的ip]/phpmyadmin`}</inlineCode>{`访问数据库后台了。所以要把phpmyAdmin和pureFTPd、探针等文件复制到`}<inlineCode parentName=\"p\">{`/home/wwwroot/[你的ip]`}</inlineCode>{`下面，为了安全记得把phpmyAdmin改一个名字`}</p>\n    <h2 {...{\n      \"id\": \"安装wordpress\"\n    }}>{`安装WordPress`}</h2>\n    <p>{`PS:当前在~路径下操作`}</p>\n    <p>{`   运行命令：`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`wget -c https://cn.wordpress.org/wordpress-4.2.2-zh_CN.tar.gz\ntar zxvf wordpress-4.2.2-zh_CN.tar.gz\n`}</code></pre>\n    <p>{`   权限设置：`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`chown -R www:www wordpress\n`}</code></pre>\n    <p>{`   复制到nginx目录：`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`cp -R wordpress/* /home/wwwroot/[你的ip]\n`}</code></pre>\n    <p>{`（PS：默认情况nginx根目录是：/home/wwwroot/default/，添加vhost以后已经将你的ip绑定到/home/wwwroot/`}{`[你的ip]`}{`下面）`}</p>\n    <p>{`访问`}{`[你的ip]`}{`按照向导安装WordPress即可`}</p>\n    <h2 {...{\n      \"id\": \"配置和权限\"\n    }}>{`配置和权限`}</h2>\n    <p>{`不进行这一步的话在插件安装和更新上会遇到问题。`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`登陆phpMyAdmin如果提示无法读取目录、超时或报502 Bad Gateway错误。需要修改/home/wwwroot/`}{`[你的ip]`}{`/.user.in将里面的内容删除，重启ftp服务生效。`}</p>\n    </blockquote>\n    <p>{`由于.user.ini文件无法直接修改（设置了特殊属性，查看属性`}<inlineCode parentName=\"p\">{`lsattr .user.ini`}</inlineCode>{`）`}</p>\n    <p>{`修改前需要执行：`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`chattr -i .user.ini\n`}</code></pre>\n    <p>{`修改完成后再执行：`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`chattr +i .user.ini\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\">{`插件升级提示\"要执行请求的操作，WordPress需要访问您网页服务器的权限。请输入您的FTP登陆凭据以继续\"并且报错比如无法读取wp-content等等，那么需要执行权限设置操作。`}</p>\n    </blockquote>\n    <p>{`在wp-config.php文件中添加以下内容`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`define(\"FS_METHOD\",\"direct\");\ndefine(\"FS_CHMOD_DIR\", 0777);\ndefine(\"FS_CHMOD_FILE\", 0777);\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"鸣谢\"\n    }}>{`鸣谢`}</h2>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"http://jingyan.baidu.com/article/4f34706efc1237e387b56da4.html\"\n      }}>{`http://jingyan.baidu.com/article/4f34706efc1237e387b56da4.html`}</a></p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"http://www.mengjx.com/setup-lnmp-environment-and-install-wordpress-in-centos.html\"\n      }}>{`http://www.mengjx.com/setup-lnmp-environment-and-install-wordpress-in-centos.html`}</a></p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"http://blog.csdn.net/fox64194167/article/details/33333301\"\n      }}>{`http://blog.csdn.net/fox64194167/article/details/33333301`}</a></p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"安装lnmp和ftp\",\n    level: 2,\n    title: \"安装LNMP和FTP\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"创建数据库\",\n    level: 2,\n    title: \"创建数据库\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"添加虚拟主机\",\n    level: 2,\n    title: \"添加虚拟主机\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"安装wordpress\",\n    level: 2,\n    title: \"安装WordPress\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"配置和权限\",\n    level: 2,\n    title: \"配置和权限\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"鸣谢\",\n    level: 2,\n    title: \"鸣谢\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n"],"sourceRoot":""}